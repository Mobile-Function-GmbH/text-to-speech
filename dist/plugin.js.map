{"version":3,"file":"plugin.js","sources":["esm/web.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nimport { WebPlugin } from '@capacitor/core';\r\nexport class TextToSpeechWeb extends WebPlugin {\r\n    constructor() {\r\n        super({\r\n            name: 'TextToSpeech',\r\n            platforms: ['web'],\r\n        });\r\n        this.speechSynthesis = null;\r\n        if ('speechSynthesis' in window) {\r\n            this.speechSynthesis = window.speechSynthesis;\r\n        }\r\n    }\r\n    speak(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this.speechSynthesis) {\r\n                this.throwUnsupportedError();\r\n            }\r\n            yield this.stop();\r\n            const speechSynthesis = this.speechSynthesis;\r\n            const utterance = this.createSpeechSynthesisUtterance(options);\r\n            return new Promise((resolve, reject) => {\r\n                utterance.onend = () => {\r\n                    resolve();\r\n                };\r\n                utterance.onerror = (event) => {\r\n                    reject(event);\r\n                };\r\n                speechSynthesis.speak(utterance);\r\n            });\r\n        });\r\n    }\r\n    stop() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this.speechSynthesis) {\r\n                this.throwUnsupportedError();\r\n            }\r\n            this.speechSynthesis.cancel();\r\n        });\r\n    }\r\n    getSupportedLanguages() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const voices = this.getSpeechSynthesisVoices();\r\n            const languages = voices.map(voice => voice.lang);\r\n            const filteredLanguages = languages.filter((v, i, a) => a.indexOf(v) == i);\r\n            return { languages: filteredLanguages };\r\n        });\r\n    }\r\n    getSupportedVoices() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const voices = this.getSpeechSynthesisVoices();\r\n            return { voices };\r\n        });\r\n    }\r\n    openInstall() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.throwUnimplementedError();\r\n        });\r\n    }\r\n    setPitchRate(_options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.throwUnimplementedError();\r\n        });\r\n    }\r\n    setSpeechRate(_options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.throwUnimplementedError();\r\n        });\r\n    }\r\n    isLanguageSupported(options) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const result = yield this.getSupportedLanguages();\r\n            const isLanguageSupported = result.languages.indexOf(options.lang) > -1;\r\n            return { supported: isLanguageSupported };\r\n        });\r\n    }\r\n    createSpeechSynthesisUtterance(options) {\r\n        const voices = this.getSpeechSynthesisVoices();\r\n        const utterance = new SpeechSynthesisUtterance();\r\n        const { text, locale, speechRate, volume, voice, pitchRate } = options;\r\n        if (voice) {\r\n            utterance.voice = voices[voice];\r\n        }\r\n        if (volume) {\r\n            utterance.volume = volume >= 0 && volume <= 1 ? volume : 1;\r\n        }\r\n        if (speechRate) {\r\n            utterance.rate = speechRate >= 0.1 && speechRate <= 10 ? speechRate : 1;\r\n        }\r\n        if (pitchRate) {\r\n            utterance.pitch = pitchRate >= 0 && pitchRate <= 2 ? pitchRate : 2;\r\n        }\r\n        if (locale) {\r\n            utterance.lang = locale;\r\n        }\r\n        utterance.text = text;\r\n        return utterance;\r\n    }\r\n    getSpeechSynthesisVoices() {\r\n        if (!this.speechSynthesis) {\r\n            this.throwUnsupportedError();\r\n        }\r\n        return this.speechSynthesis.getVoices();\r\n    }\r\n    throwUnsupportedError() {\r\n        throw new Error('Not supported on this device.');\r\n    }\r\n    throwUnimplementedError() {\r\n        throw new Error('Not implemented on web.');\r\n    }\r\n}\r\nconst TextToSpeech = new TextToSpeechWeb();\r\nexport { TextToSpeech };\r\nimport { registerWebPlugin } from '@capacitor/core';\r\nregisterWebPlugin(TextToSpeech);\r\n//# sourceMappingURL=web.js.map"],"names":["this","WebPlugin","registerWebPlugin"],"mappings":"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"}